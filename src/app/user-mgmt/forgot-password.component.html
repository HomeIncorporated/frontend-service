<div class="row col-10 mx-auto" style="padding-top: 20vh;">
    <p class="col-12 nimble-title"><span [innerHTML]="'Forgot your password?' | translate"></span></p>
</div>


<form *ngIf="key === null" (ngSubmit)="resetPasswordViaRecoveryProcess()" class="space-before" #credentialsForm="ngForm" novalidate>
    <!-- Email -->
    <div class="form-group row col-10 mx-auto">
        <label for="email" class="col-3 col-form-label font-weight-bold"><span [innerHTML]="'E-Mail' | translate"></span></label>
        <div class="col-9">
            <input type="email" class="form-control" id="email" required [(ngModel)]="model.username" name="email" #email="ngModel" pattern="[a-zA-Z0-9._%+-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9]{2,25}$">
        </div>
    </div>

    <!-- Submit -->
    <div class="row col-10 mx-auto actions-row" style="padding-right:15px !important; padding-left:15px !important;">
        <div class="col-9 call-status-col">
            <call-status [callStatus]="submitCallStatus"></call-status>
        </div>

        <div class="col-3">
            <button type="submit" class="btn btn-primary action"><span [innerHTML]="'Submit' | translate"></span></button>
        </div>
    </div>

</form>


<form *ngIf="key !== null" (ngSubmit)="resetForgotPassword()" class="space-before" #credentialsForm="ngForm" novalidate>
    <!-- Email -->
    <div class="form-group row col-10 mx-auto">
        <label for="newPassword" class="col-3 col-form-label font-weight-bold"><span [innerHTML]="'Password' | translate"></span></label>
        <div class="col-9">
            <input type="password" class="form-control" id="newPassword" required [(ngModel)]="model.newPassword" name="newPassword" pattern=".{6,}">
        </div>
    </div>

    <div class="form-group row col-10 mx-auto">
        <label for="newPasswordRepeated" class="col-3 col-form-label font-weight-bold"><span [innerHTML]="'Re-enter Password' | translate"></span></label>
        <div class="col-9">
            <input type="password" class="form-control" id="newPasswordRepeated" required [(ngModel)]="newPasswordRepeated" [ngClass]="pw_val_class"
                   name="newPassword" pattern=".{6,}" (input)="validatePasswords()" >
        </div>
    </div>

    <!-- Submit -->
    <div class="row col-10 mx-auto actions-row" style="padding-right:15px !important; padding-left:15px !important;">
        <div class="col-9 call-status-col">
            <call-status [callStatus]="submitCallStatus"></call-status>
        </div>

        <div class="col-3">
            <button type="submit" class="btn btn-primary action" [disabled]="!passwords_matching"><span [innerHTML]="'Change Password' | translate"></span></button>
        </div>
    </div>

</form>
